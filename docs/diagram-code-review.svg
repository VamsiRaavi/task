<svg width="720" height="220" viewBox="0 0 720 220" xmlns="http://www.w3.org/2000/svg">
  <rect width="100%" height="100%" fill="#ffffff"/>

  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#424242" />
    </marker>
  </defs>

  <!-- Nodes -->
  <rect x="40" y="70" width="110" height="50" rx="8" ry="8" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.2"/>
  <text x="95" y="95" text-anchor="middle" font-family="Arial" font-size="11" fill="#0d47a1">extract</text>

  <rect x="180" y="70" width="130" height="50" rx="8" ry="8" fill="#e8f5e9" stroke="#388e3c" stroke-width="1.2"/>
  <text x="245" y="88" text-anchor="middle" font-family="Arial" font-size="11" fill="#1b5e20">check_complexity</text>

  <rect x="340" y="70" width="130" height="50" rx="8" ry="8" fill="#fff8e1" stroke="#f9a825" stroke-width="1.2"/>
  <text x="405" y="88" text-anchor="middle" font-family="Arial" font-size="11" fill="#f57f17">detect_issues</text>

  <rect x="500" y="70" width="150" height="50" rx="8" ry="8" fill="#fce4ec" stroke="#ad1457" stroke-width="1.2"/>
  <text x="575" y="88" text-anchor="middle" font-family="Arial" font-size="11" fill="#880e4f">suggest_improvements</text>

  <rect x="270" y="150" width="160" height="50" rx="8" ry="8" fill="#ede7f6" stroke="#5e35b1" stroke-width="1.2"/>
  <text x="350" y="175" text-anchor="middle" font-family="Arial" font-size="11" fill="#4527a0">evaluate_quality</text>

  <!-- Arrows (top row) -->
  <line x1="150" y1="95" x2="180" y2="95" stroke="#424242" stroke-width="1.4" marker-end="url(#arrow)"/>
  <line x1="310" y1="95" x2="340" y2="95" stroke="#424242" stroke-width="1.4" marker-end="url(#arrow)"/>
  <line x1="470" y1="95" x2="500" y2="95" stroke="#424242" stroke-width="1.4" marker-end="url(#arrow)"/>

  <!-- suggest_improvements -> evaluate_quality -->
  <line x1="575" y1="120" x2="420" y2="150" stroke="#424242" stroke-width="1.4" marker-end="url(#arrow)"/>

  <!-- evaluate_quality default end -->
  <circle cx="470" cy="175" r="6" fill="#424242"/>
  <text x="495" y="178" font-family="Arial" font-size="10" fill="#424242">end</text>
  <line x1="430" y1="175" x2="464" y2="175" stroke="#424242" stroke-width="1.4" marker-end="url(#arrow)"/>

  <!-- Loop arrow: evaluate_quality -> suggest_improvements -->
  <path d="M320 150 C 280 135, 280 115, 320 100" fill="none" stroke="#d32f2f" stroke-width="1.4" marker-end="url(#arrow)"/>
  <text x="285" y="120" font-family="Arial" font-size="9" fill="#d32f2f">if quality &lt; threshold</text>
</svg>
